# Лаба 3: Алгоритмический мини-пакет (структуры данных и сортировки) (Сложнось - Medium)

## Запуск программы
```bash
$ uv venv
$ uv sync
$ source .venv/bin/activate

(lab_algo) $ python -m src.main  # Запуск бенчмарка
(lab_algo) $ python -m src.main --help  # Список команд
(lab_algo) $ python -m src.main stack --help  # Список команд для стака
(lab_algo) $ python -m src.main queue --help  # Список команд для очереди
```

## Формат ввода
- Для реализации CLI используется `typer`
- При запуске программы без аргументов запускается бенчмарк
- Массив для сортировки вводится как числа, записанные через пробел

## Принятые решения
- Каждое задание реализовано в отдельной директории.
- В этих директориях есть модуль `app.py`, в нем находятся команды для `typer`
- Функции сортировки реализованы как функции с двумя обязательными аргументами: `a` - массив, `key` - функция ключа
- К этим функция применется декоратор `multisort`, который добавляет аргументы: `cmp` - функция компоратора, `reverse` - сортировка в обратном порядке
- Этот декоратор является фабрикой декораторов, у него есть аргументы: `stable` - является ли сортировка стабильной, `comparing` - использует ли сортировка сравения
- Эта информация о сортировках используется для дополнительных проверок перед запуском сортировок (например: cmp нельзя использовать для несравнивающих сортировок)
- Агрумент `reverse` работает по принципу двойного переворота. Перед сортировкой переворачиваются неотсортированные элементы, потом переворачиваются сами сортированные элементы
- Это работает только для стабильных алгоритмов сортировки, в противном случаи переворачиваются только отсортированые элементы
- Стак использует ноды, очередь использует стак
- Для реализации `min` используется вспомогательный стак, который хранит только минимальные элементы
- При создании стака есть аргумент `has_min`, которые нужен для избежания рекурсии в стаке минимума
---
- `counting_sort` принимает отрицательный числа при помощи нормализации
- `radix_sort` принимает отрицательные числа (сортирует их отдельно и склеивает в начало итогово массива)
- `bucket_sort` нормализирует числа (также может принимать `int`)
- `bucket_sort` по умолчанию создает `ceil(len(a)/2)` бакетов
- `bucket_sort` по умолчанию рекурсивно использует `bucket_sort` для сортировки бакетов
- `bucket_sort` имеет аргумент `sort` (можно использовать любую другую функцию сортировки)

## Допущения
- Тесты используют генераторы, по-этому сортировки тестируются на случайных массивах
- Так как все сортировки используют декоратор `multisort`, они теряют подсказки для дополнительных аргументов
